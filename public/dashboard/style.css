* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f0f2f5; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

header {
  background: #1a1a2e; color: white; padding: 0 20px; height: 56px;
  display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;
}
.header-left { display: flex; align-items: center; gap: 12px; }
.header-logo { font-size: 24px; }
header h1 { font-size: 16px; font-weight: 700; }
.header-sub { font-size: 11px; color: #aaa; }
.header-right { display: flex; align-items: center; gap: 12px; font-size: 13px; }
.status-dot { width: 8px; height: 8px; border-radius: 50%; background: #ccc; }
.status-dot.online { background: #25D366; }
.status-dot.offline { background: #ff4444; }
.logout-btn { color: #aaa; text-decoration: none; font-size: 13px; padding: 4px 10px; border: 1px solid #444; border-radius: 4px; }
.logout-btn:hover { color: white; border-color: #888; }

.app-layout { display: flex; flex: 1; overflow: hidden; }

/* Sidebar */
.sidebar { width: 320px; background: white; border-right: 1px solid #e0e0e0; display: flex; flex-direction: column; flex-shrink: 0; }
.sidebar-header { padding: 16px; border-bottom: 1px solid #e8e8e8; }
.sidebar-header h2 { font-size: 15px; font-weight: 700; color: #1a1a2e; margin-bottom: 10px; }
.filter-tabs { display: flex; gap: 4px; flex-wrap: wrap; }
.filter-tab { padding: 4px 10px; border: 1.5px solid #ddd; border-radius: 20px; font-size: 12px; cursor: pointer; background: white; color: #555; }
.filter-tab.active { background: #1a1a2e; color: white; border-color: #1a1a2e; }

.conversation-list { flex: 1; overflow-y: auto; }
.conv-item { padding: 14px 16px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background 0.15s; }
.conv-item:hover { background: #f8f8f8; }
.conv-item.active { background: #e8f5e9; border-left: 3px solid #25D366; }
.conv-item.needs-agent { background: #fff3e0; border-left: 3px solid #ff9800; }
.conv-item-header { display: flex; justify-content: space-between; align-items: center; }
.conv-name { font-weight: 600; font-size: 14px; color: #1a1a2e; }
.conv-time { font-size: 11px; color: #999; }
.conv-number { font-size: 12px; color: #888; margin-top: 2px; }
.conv-preview { font-size: 12px; color: #666; margin-top: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px; }
.conv-badges { display: flex; gap: 4px; margin-top: 6px; flex-wrap: wrap; }
.badge { padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; text-transform: uppercase; }
.badge-bot { background: #e3f2fd; color: #1565c0; }
.badge-human { background: #fff8e1; color: #f57f17; }
.badge-completed { background: #e8f5e9; color: #2e7d32; }
.badge-service { background: #f3e5f5; color: #6a1b9a; }
.badge-alert { background: #ffebee; color: #c62828; animation: pulse 1.5s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }

.loading { padding: 20px; text-align: center; color: #999; font-size: 13px; }

/* Chat area */
.chat-area { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.no-chat { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #aaa; }
.no-chat-icon { font-size: 48px; margin-bottom: 12px; }
.no-chat p { font-size: 15px; }

.chat-panel { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.chat-header { padding: 14px 20px; background: white; border-bottom: 1px solid #e8e8e8; display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
.chat-header-info h3 { font-size: 15px; font-weight: 700; color: #1a1a2e; }
.chat-meta { font-size: 12px; color: #888; margin-top: 2px; }
.chat-header-actions { display: flex; align-items: center; gap: 8px; }
.mode-label { font-size: 12px; font-weight: 600; padding: 3px 10px; border-radius: 12px; }
.mode-label.bot { background: #e3f2fd; color: #1565c0; }
.mode-label.human { background: #fff8e1; color: #f57f17; }

.btn-takeover { padding: 7px 14px; background: #ff9800; color: white; border: none; border-radius: 6px; font-size: 13px; cursor: pointer; font-weight: 600; }
.btn-takeover:hover { background: #f57c00; }
.btn-handback { padding: 7px 14px; background: #25D366; color: white; border: none; border-radius: 6px; font-size: 13px; cursor: pointer; font-weight: 600; }
.btn-handback:hover { background: #1DA855; }
.btn-drive { padding: 7px 14px; background: #4285f4; color: white; border: none; border-radius: 6px; font-size: 13px; text-decoration: none; font-weight: 600; }
.btn-drive:hover { background: #3367d6; }

.messages-area { flex: 1; overflow-y: auto; padding: 16px 20px; background: #f0f2f5; display: flex; flex-direction: column; gap: 8px; }
.message { max-width: 70%; padding: 10px 14px; border-radius: 12px; font-size: 14px; line-height: 1.4; }
.message.inbound { background: white; align-self: flex-start; border-bottom-left-radius: 4px; }
.message.outbound { background: #dcf8c6; align-self: flex-end; border-bottom-right-radius: 4px; }
.message.human-agent { background: #fff3cd; align-self: flex-end; border: 1px solid #ffc107; border-bottom-right-radius: 4px; }
.msg-meta { font-size: 10px; color: #999; margin-top: 4px; }
.msg-sender { font-size: 10px; color: #888; margin-bottom: 2px; font-weight: 600; }

.docs-area { background: white; border-top: 1px solid #e8e8e8; padding: 10px 20px; max-height: 120px; overflow-y: auto; flex-shrink: 0; }
.docs-header { font-size: 12px; font-weight: 600; color: #666; margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; }
.docs-list { display: flex; gap: 8px; flex-wrap: wrap; }
.doc-chip { padding: 4px 10px; background: #e8f5e9; border-radius: 20px; font-size: 11px; color: #2e7d32; text-decoration: none; border: 1px solid #c8e6c9; }
.doc-chip:hover { background: #c8e6c9; }
.no-docs { font-size: 12px; color: #aaa; }

.human-input { padding: 12px 20px; background: white; border-top: 1px solid #e8e8e8; display: flex; gap: 8px; align-items: flex-end; flex-shrink: 0; }
.human-input textarea { flex: 1; padding: 10px 14px; border: 1.5px solid #ddd; border-radius: 8px; font-size: 14px; resize: none; font-family: inherit; outline: none; }
.human-input textarea:focus { border-color: #25D366; }
.btn-send { padding: 10px 20px; background: #25D366; color: white; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; font-weight: 600; white-space: nowrap; }
.btn-send:hover { background: #1DA855; }
.bot-mode-note { padding: 12px 20px; background: #f8f9fa; border-top: 1px solid #e8e8e8; font-size: 13px; color: #888; text-align: center; flex-shrink: 0; }

.notification { position: fixed; top: 70px; right: 20px; background: #ff9800; color: white; padding: 12px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 1000; }

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
